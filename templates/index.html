<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Duelo no Velho Oeste - Menu</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rye&display=swap" rel="stylesheet">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="main-container">
        <div id="main-menu">
            <h1>Duelo no Velho Oeste</h1>
            <div id="game-modes">
                <button class="mode-button" data-mode="classico">Modo Cl√°ssico</button>
                <button class="mode-button" data-mode="sobrevivencia">Modo Sobreviv√™ncia</button>
                <button class="mode-button" data-mode="precisao">Modo Precis√£o</button>
                <button id="rules-button" class="mode-button">Regras</button>
            </div>
        </div>

        <div id="game-section" style="display: none;">
            <div id="game-info">
                </div>
                 
            <button id="start-game-button">Come√ßar o Duelo</button>    
            <br>

            <canvas id="gameCanvas"></canvas>
            <button id="back-to-menu-button">Voltar ao Menu</button>
        </div>

        <div id="leaderboard-section" style="display: none;">
            <h2>Top Pistoleiros</h2>
            <ol id="leaderboard-list"></ol>
        </div>
    </div>

    <!-- Modal de Regras -->
    <div id="rules-modal">
        <div id="rules-content">
            <h2>Regras do Duelo</h2>
            <div class="rules-text">
                <h3>Objetivo</h3>
                <p>Clique nos alvos que aparecem na tela para marcar pontos. Cada modo de jogo tem um desafio diferente!</p>
                
                <h3>Modos de Jogo</h3>
                <ul>
                    <li><strong>Cl√°ssico:</strong> Marque o m√°ximo de pontos em 10 segundos. Apenas neste modo sua pontua√ß√£o vai para o placar!</li>
                    <li><strong>Sobreviv√™ncia:</strong> Comece com 3 vidas. O jogo acaba quando suas vidas chegarem a zero. Cuidado com as caveiras!</li>
                    <li><strong>Precis√£o:</strong> Voc√™ tem apenas 15 balas. Cada clique conta!</li>
                </ul>

                <h3>Itens</h3>
                <ul>
                    <li>‚≠ê <strong>Estrela Normal:</strong> Vale 1 ponto.</li>
                    <li>üåü <strong>Estrela Dourada:</strong> Rara e r√°pida, vale 5 pontos.</li>
                    <li>üíÄ <strong>Caveira:</strong> Clicar nela no modo Sobreviv√™ncia custa uma vida.</li>
                    <li>üí£ <strong>Bomba:</strong> No modo Sobreviv√™ncia, explode todos os alvos. CUIDADO: se explodir uma caveira, voc√™ perde uma vida!</li>
                    <li>‚è±Ô∏è <strong>Rel√≥gio:</strong> Adiciona 3 segundos no modo Cl√°ssico.</li>
                    <li>üí∞ <strong>Multiplicador:</strong> Dobra seus pontos temporariamente.</li>
                </ul>
            </div>
            <button id="close-rules-button">Fechar</button>
        </div>
    </div>

    <div id="game-over-modal">
        <div id="modal-content">
            <h2 id="modal-title">Duelo Encerrado!</h2>
            <p id="modal-text">Sua recompensa final foi de <strong>0</strong>$.</p>
            <p>O que deseja fazer?</p>

            <div id="initial-modal-buttons" class="modal-buttons">
                <button id="play-again-button">Jogar Novamente</button>
                <button id="show-register-form-button">Registrar Pontua√ß√£o</button>
            </div>

            <div id="register-form" style="display: none;">
                 <input type="text" id="player-name-input" placeholder="Seu nome de pistoleiro" style="margin-bottom: 15px;">
                 <div class="modal-buttons">
                    <button id="play-again-from-register-button">Jogar Novamente</button>
                    <button id="submit-score-button">Confirmar Registro</button>
                 </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/game.js') }}" defer></script>
</body>
</html>
